<div class="main-content">
  <div class="container-fluid">


    <nav class="navbar" ng-show="showmyjoblist">
      <div class="container-fluid">
        <div class="navbar-header">
          <div class="row">
            <div class="col-md-12">
              <div class="input-group" style="margin-top: 9px;">
                <div class="input-group-btn  btn-raised search-panel">
                  <button type="button" class="btn  btn-raised btn-default dropdown-toggle" data-toggle="dropdown">
                    <span id="search_concept">Search by {{displaydd}}</span>
                    <span class="caret"></span>
                  </button>
                  <ul class="dropdown-menu" role="menu">
                    <li>
                      <button class="btn  btn-raised btn-info btn-block btn-sm"
                        (click)="filterdropdownfunction('my_candidates', 'My Candidates')">My Candidates</button>
                    </li>

                    <li>
                      <button class="btn  btn-raised btn-success btn-block btn-sm"
                        (click)="filterdropdownfunction('jobs', 'Jobs')">Jobs</button>
                    </li>

                  </ul>
                </div>

                <input type="text" class="form-control" ng-auto-complete callback-fn='jobnamesuggest()' id='jobssearch'
                  [(ngModel)]="searchcandidatetext" (change)="filteragain()" placeholder="Search Jobs">
                <input type="text" style="display: none;" class="form-control" id='candidatessearch'
                  [(ngModel)]="searchcandidate" (change)="filterbycandidate()" placeholder="Search Candidates">

                <span class="input-group-btn">
                  <button class="btn  btn-raised btn-default" (click)="filterbyJob()" type="button">
                    Go
                  </button>
                </span>
              </div>

            </div>
            <div class="col-md-12">
              <button type="button" class="btn  btn-raised  btn-primary" (click)='assignjobClick()'
                style="margin-top: 9px;" ng-if='mp.btn_assign_job_to_recruiter'>Assign Job</button>
              <!--                        <button type="button" class="btn  btn-raised  btn-primary" data-toggle="modal" data-target="#myModal-5" style="margin-top: 9px;">Un-Assigned Job</button    >-->

              <button type="button" class="btn  btn-raised  btn-info" (click)="loadvendor()" style="margin-top: 9px;"
                ng-if='mp.btn_assign_job_to_vendor'>Assign Job to Vendor</button>
              <button type="button" class="btn  btn-raised  btn-danger" data-toggle="modal"
                (click)="openaddvendor()" data-target="#addvendor" style="margin-top: 9px;"
                d='mp.btn_add_vendor'>Add Vendor</button>

              <button type="button" class="btn  btn-raised  btn-default" (click)="db.downloadFile(jobslist,'joblist')"
                style="margin-top: 9px;" d='mp.btn_add_vendor'>CSV</button>

            </div>
          </div>


        </div>
      </div>
    </nav>



    <!-- Assist content -->
    <div class=" row">

      <div *ngIf='jobslist.length==0 && isfilter==false' class="col-md-12">

        <div class="alert alert-danger alert-dismissible">
          <a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
          <i class="fa fa-exclamation-triangle"></i> <strong>Hi there !</strong> You neither created nor assigned any
          job yet, to start working.

          <span *ngIf="db.mp.add_new_job_store"> Please <a href="#/newjob" class="btn  btn-raised btn-default">click
              here</a> to add job .</span>
          <span ng-hide="mp.add_new_job_store">Please contact your manager.</span>
        </div>
      </div>
      <div style="margin-top:20px;" class="col-md-12">


        <ul class="nav nav-tabs showloader pull-left  ">
          <li class="active"><a data-toggle="tab" href="#" (click)='changefilter("Active","job_status")'
              class="btn  btn-raised btn-primary">Active</a></li>
          <li><a href="#" data-toggle="tab" (click)='changefilter("Hold","job_status")'
              class="btn  btn-raised btn-primary">Hold</a></li>
          <li><a href="#" data-toggle="tab" (click)='changefilter(1,"website")'
              class="btn  btn-raised btn-primary">Visible on Website</a></li>
          <li><a href="#" data-toggle="tab" (click)='changefilter("Closed","job_status")'
              class="btn  btn-raised btn-primary">Closed</a></li>
          <li><a href="#" data-toggle="tab" style="background:#ddf295; color:#251e22;"
              (click)='changefilter("Interview","interview")' class="btn  btn-raised btn-primary">Interview</a></li>

          <li><a href="#" data-toggle="tab" (click)='changefilter("All","job_status")'
              class="btn  btn-raised btn-primary">All</a></li>
          <li><a href="#" data-toggle="tab" (click)='changefilter("Tagged","tagged")'
              class="btn  btn-raised btn-primary">Tagged</a></li>

        </ul>
        <pagination-controls      directionLinks="true"
        autoHide="true"
        responsive="true"
        previousLabel="Previous"
        nextLabel="Next"
        screenReaderPaginationLabel="Pagination"
        screenReaderPageLabel="page"
        screenReaderCurrentLabel="You're on page" class="pull-right my-pagination" (pageChange)="p = $event"></pagination-controls>
        <div class="clearfix"></div>

        <div class="box box-primary" id="#">

          <mat-progress-bar mode="indeterminate" *ngIf="isLoadingJobs"></mat-progress-bar>

          <div class="clearfix"></div>


          <div class="row">

            <div class="col-md-12">
              <div class="card" (click)="selectdeselect($event,item)"
                *ngFor="let item of jobslist | orderBy:'visibleonwebsite' | myfilter: searchcandidatetext  | paginate: { itemsPerPage: 10, currentPage: p };  let i = index">
                <div class="card-header card-header-{{item.selected?'success':'info'}}">
                  <h4 class="card-title">
                    <!-- {{i}}  -->
                    <a class="title_in" target="_blank" href="/#/myjob/{{item.id}}"
                      ___stopclick="showJob(item.id, $event)">

                      <span itemprop="title" class="title_in" style="margin-right:2px;">

                        <span class="hightlighted_keyword"> {{item.job_title}} </span>

                      </span>
                    </a> </h4>
                  <p class="card-category">
                    <span>( Job ID : {{item.category_code}}{{item.id}} )</span>

                    <span itemtype="#" help='Client'>{{item.ClientName}} </span>

                    <span style='padding-left:10px; display:inline-block;'>
                      <i class='fa fa-inr'></i> {{item.referralBonus}} </span> <span
                      ng-hide='mp.btn_approve_job_by_manager || item.is_approved_by_manager=="0"'
                      class="selectapproved{{item.is_approved_by_manager}}" help="Approved by manager">
                      <i class="fa fa-check"></i>
                    </span>
                    <span class="pull-right socialdiv" (mouseenter)="enter(i)" (mouseleave)="leave(i)"  ><a mat-mini-fab class="facebook" ng-hide="profile.isvendor=='1'"
                      href="https://www.facebook.com/sharer/sharer.php?u={{$url}}{{item.slug}}/{{item.id}}/{{db.profile.id}}&text={{item.job_title}}"
                      target="_blank">
                      <i class="fa fa-facebook "></i>
                    </a>

                    <a mat-mini-fab class="twitter" ng-hide="profile.isvendor=='1'"
                      href="https://twitter.com/share?url={{$url}}{{item.slug}}/{{item.id}}/{{db.profile.id}}&text={{item.job_title}}"
                      target="_blank">
                      <i class="fa fa-twitter  "></i>
                    </a>

                    <a mat-mini-fab class="linkedin" ng-hide="profile.isvendor=='1'"
                      href="https://www.linkedin.com/shareArticle?mini=true&url={{$url}}{{item.slug}}/{{item.id}}/{{db.profile.id}}&title={{item.job_title}}&summary={{item.job_title}}&source=sadf"
                      target="_blank">
                      <i class="fa fa-linkedin "></i>
                    </a></span>
                    <span class="sharediv pull-right"  *ngIf="hoverIndex === i">
                      Share for Apply : <a mat-mini-fab class="facebook" ng-hide="profile.isvendor=='1'"
                        href="https://www.facebook.com/sharer/sharer.php?u={{$urlapply}}{{item.slug}}/{{item.id}}/00&text={{item.job_title}}"
                        target="_blank">
                        <i class="fa fa-facebook "></i>
                      </a>

                      <a class="twitter" mat-mini-fab ng-hide="profile.isvendor=='1'"
                        href="https://twitter.com/share?url={{$urlapply}}{{item.slug}}/{{item.id}}/00&text={{item.job_title}}"
                        target="_blank">
                        <i class="fa fa-twitter  "></i>
                      </a>

                      <a class="linkedin" mat-mini-fab ng-hide="profile.isvendor=='1'"
                        href="https://www.linkedin.com/shareArticle?mini=true&url={{$urlapply}}{{item.slug}}/{{item.id}}/00&title={{item.job_title}}&summary={{item.job_title}}&source=sadf"
                        target="_blank">
                        <i class="fa fa-linkedin "></i>
                      </a></span>
                  </p>


                </div>
                <div class="card-body table-responsive">
                  <div class="member-social pull-right col-md-4 shareparent" style="text-align: right;">


                    <a mat-mini-fab class="" help="Assign to recruiter" href="javascript:" (click)="assignjobClick()">
                      <i class="fa fa-share-square-o"></i>
                    </a>
                    <!--<a   ng-show='mp.btn_approve_job_by_manager' class="select{{item.is_approved_by_manager}}" help="approved" href="javascript:"-->

                    <a mat-mini-fab ng-show='mp.btn_approve_job_by_manager' title="Approve by Manager"
                      href="javascript:" (click)="is_approved_by_manager(item)">
                      <i class="fa fa-check"></i>
                    </a>

                    <a mat-mini-fab title="Tag" href="javascript:" (click)="tag(item);toggleColor();" [ngClass]="{'test': item.tagged===11}" >
                      <i class="fa fa-tags"></i>
                    </a>
                    <script>
                     $("#myDiv").on({
        hover: function(){
           //do on mouse hover
        },
        click: function(){
            //do on mouse click
        }
    });
                    </script>
                    <a mat-mini-fab class="" help="Show JD" href="javascript:" style='color:black; background:#ffffbe;'
                      (click)="showjd(item)">
                      <i class="fa fa-bolt "></i>
                    </a>
                    <a mat-mini-fab ng-show='item.visibleonwebsite==1' class=""
                      href="{{$url}}/{{item.slug}}/{{item.id}}/{{db.profile.id}}" target="_blank"
                      style='color:red; background:white;' help='Visible on Website'>
                      <i class="fa fa-eye "></i>
                    </a>

                    <!-- <a mat-mini-fab class="facebook" ng-hide="profile.isvendor=='1'"
                      href="https://www.facebook.com/sharer/sharer.php?u={{$url}}{{item.slug}}/{{item.id}}/{{db.profile.id}}&text={{item.job_title}}"
                      target="_blank">
                      <i class="fa fa-facebook "></i>
                    </a>

                    <a mat-mini-fab class="twitter" ng-hide="profile.isvendor=='1'"
                      href="https://twitter.com/share?url={{$url}}{{item.slug}}/{{item.id}}/{{db.profile.id}}&text={{item.job_title}}"
                      target="_blank">
                      <i class="fa fa-twitter  "></i>
                    </a>

                    <a mat-mini-fab class="linkedin" ng-hide="profile.isvendor=='1'"
                      href="https://www.linkedin.com/shareArticle?mini=true&url={{$url}}{{item.slug}}/{{item.id}}/{{db.profile.id}}&title={{item.job_title}}&summary={{item.job_title}}&source=sadf"
                      target="_blank">
                      <i class="fa fa-linkedin "></i>
                    </a> -->
                    <a mat-mini-fab data-toggle="modal" *ngIf="db.mp.btn_take_internal_refeference"
                      data-target="#internalreference" href="javascript:"
                      (click)="GetInHourseReference(item.id, $event)" class="text-danger" help='get reference internal'
                      title='get reference internal'>
                      <i class="fa fa-bullhorn  "></i>
                    </a>
                    <a mat-mini-fab href="#" class="pull-right text-aqua" *ngIf="db.mp.btn_upload_cv_myjobs">
                      <i data-toggle="tooltip" ngf-select="uploadinvoicevendor($file,11)" help="Upload CVs(Excel)"
                        class="fa fa-upload"></i>
                    </a>



                  </div>

                  <div class="col-md-8">
                    <div class='row buttonwithnumber'>

                      <button mat-raised-button color="primary" matBadge="{{item.allcandidate}}"
                        matBadgePosition="after" matBadgeColor="accent" class=" "
                        (click)="filterdrbytab('My Candidates', 'all', item)" data-toggle="modal"
                        data-target="#candidatesall">All
                      </button>

                      <button type="button" mat-raised-button color="primary" matBadge="{{item.underreview}}"
                        matBadgePosition="after" matBadgeColor="accent" class=" "
                        (click)="filterdrbytab('My Candidates', 'Under Review', item)" data-toggle="modal"
                        data-target="#candidatesall">In Review/Referrals

                      </button>
                      <button mat-raised-button color="primary" matBadge="{{item.inprocess}}" matBadgePosition="after"
                        matBadgeColor="accent" type="button" class="btnnew2 "
                        (click)="filterdrbytab('My Candidates', 'In Process', item)" data-toggle="modal"
                        data-target="#candidatesall">In process

                      </button>
                      <button mat-raised-button color="primary" matBadge="{{item.candidates_interview_count}}"
                        matBadgePosition="after" matBadgeColor="accent" type="button" class="btnnew5 "
                        (click)="filterdrbytab('My Candidates', 'isinterview', item)" data-toggle="modal"
                        data-target="#candidatesall">Interview

                      </button>
                      <button mat-raised-button color="primary" matBadge="{{item.selectedcandidate}}"
                        matBadgePosition="after" matBadgeColor="accent" type="button" class=" btnnew3  "
                        (click)="filterdrbytab('My Candidates', 'Selected', item)" data-toggle="modal"
                        data-target="#candidatesall"> Selected

                      </button>
                      <button mat-raised-button color="primary" matBadge="{{item.rejected}}" matBadgePosition="after"
                        matBadgeColor="accent" type="button" class=" btnnew4 "
                        (click)="filterdrbytab('My Candidates', 'Rejected', item)" data-toggle="modal"
                        data-target="#candidatesall">Rejected

                      </button>
                    </div>

                  </div>
                  <div class="col-md-12" [hidden]="!item.responsibilityshow">
                    <p class="htmlele">{{itemone.jobDescription}}</p>
                  </div>

                </div>
              </div>
            </div>
          </div>

          <mat-card [hidden]='jobslist.length>0||isLoadingJobs'>
            No Data Found
          </mat-card>


          <div class="clearfix"></div>
        </div>
        <div class="clearfix"></div>

      </div>

      <div class="col-12">
        <div class="row">
          <form >
          <div class="col-md-4">
            <div class="row">
              <div class="col-md-4">
                <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="vendor"
                  class="modal fade">
                  <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>

                      </div>
                      <div class="box box-primary">
                        <div class="box-header">
                          <i class="ion ion-clipboard"></i>

                          <h3 class="box-title text-center">Assign Job to Vendor</h3>


                        </div>

                        <div class="box-body">
                          <input name="vendorSearch" name="something2" [hidden]="vendorSearch<=0" type="text" [(ngModel)]="vendorSearch" [ngModelOptions]="{standalone: true}" class="form-control searchassign" placeholder="Search" ngDefaultControl />



                          <mat-selection-list>


                            <mat-list-option  *ngFor="let vendor of vendors | FilterPipe:'name':vendorSearch">


                              <!-- drag handle -->

                              <!-- checkbox <input type="checkbox" ng-checked="selectedmanagerlist.indexOf(manager.id)>-1" [(ngModel)]="selectedmanager" ng-change="selectedmanagerlistset(manager.id)" value="{{manager.id}}"> -->

                              <span  [(ngModel)]="vendor.selected" [ngModelOptions]="{standalone: true}" name="something3" ngDefaultControl>


                              <!-- todo text -->
                              <span  class="text"> {{vendor.name}}</span>
                              <!-- Emphasis label -->
                              </span>
                              <!-- General tools such as edit or delete-->
                              <!-- <div class="tools hidden">
                                <i class="fa fa-edit"></i>
                                <i class="fa fa-trash-o"></i>
                              </div> -->
                            </mat-list-option>




                          </mat-selection-list>

                        </div>

                        <!-- /.box-body -->
                        <div class="box-footer clearfix no-border">
                          <button type="button" class="btn  btn-raised btn-default pull-right"
                            (click)="assignjobtovendor()"> Assign Job</button>
                          <button type="button" class="btn  btn-raised btn-default pull-right"
                            (click)="unassignjobtovendor()" title="selected vendor will be removed from job">Un-Assign
                            Job</button>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>


                <div aria-hidden="true" aria-labelledby="myModalLabel" role="dialog" tabindex="-1" id="myModal-4"
                  class="modal fade">
                  <div class="modal-dialog modal-lg">
                    <div class="modal-content">
                      <div class="modal-header">
                        <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>

                      </div>
                      <div class="box box-primary">
                        <div class="box-header">
                          <i class="ion ion-clipboard"></i>

                          <h3 class="box-title text-center">Assign Job</h3>

                          <div class="box-tools pull-right hidden">
                            <!-- <ul class="pagination pagination-sm inline">
                              <li>
                                <a href="#">&laquo;</a>
                              </li>
                              <li>
                                <a href="#">1</a>
                              </li>
                              <li>
                                <a href="#">2</a>
                              </li>
                              <li>
                                <a href="#">3</a>
                              </li>
                              <li>
                                <a href="#">&raquo;</a>
                              </li>
                            </ul> -->
                          </div>
                        </div>
                        <!-- /.box-header -->

                        <div class="box-body ">
                          <!-- <mdInput [(ngModel)]="managerSearch" [ngModelOptions]="{standalone: true}" class=" searchassign" placeholder="Search" ngDefaultControl />
                        </> -->

                          <input name="something" [(ngModel)]="managerSearch"  class="form-control searchassign" placeholder="Search" ngDefaultControl />



                      <ul>

                              <li  *ngFor="let manager of managers| FilterPipe:'name':managerSearch">


                                <!-- drag handle -->

                                <!-- checkbox <input type="checkbox" ng-checked="selectedmanagerlist.indexOf(manager.id)>-1" [(ngModel)]="selectedmanager" ng-change="selectedmanagerlistset(manager.id)" value="{{manager.id}}"> -->

                                <mat-checkbox   [(ngModel)]="manager.selected" value="{{manager.selected}}" name="something1" ngDefaultControl >


                                <!-- todo text -->
                                <span  class="text">
                                 {{manager.name}}
                                 </span>
                                 </mat-checkbox>
                                <!-- Emphasis label -->

                                <!-- General tools such as edit or delete-->
                                <!-- <div class="tools hidden">
                                  <i class="fa fa-edit"></i>
                                  <i class="fa fa-trash-o"></i>
                                </div> -->
                              </li>



                            </ul>

                        </div>
                        <!-- /.box-body -->
                        <div class="box-footer clearfix no-border">
                          <button type="button" class="btn  btn-raised btn-default pull-right" (click)="assignjob()">
                            Assign Job</button>
                          <button type="button" class="btn  btn-raised btn-default pull-right" (click)="unassignjob()"
                            title="Selected recruiter will be removed from selected job !!">
                            Unassigned Job</button>
                        </div>
                      </div>

                    </div>
                  </div>
                </div>



                <!--unassigned pop up for vendors or recruiters-->

                <!--end unassigned job-->
              </div>
            </div>
          </div>
          </form>
        </div>
      </div>

    </div>
    <!-- End Assist Content -->


    <!-- job Update -->


    <!-- End Job Update-->

    <!-- All Candidate -->
    <div class="modal fade" id="candidatesall" role="dialog">
      <div class="modal-dialog modal-lg" style="max-width:1100px;">



        <div class="modal-content">
          <div class="modal-header">


            <h4 class="modal-title">{{gridheader}} <i class='h5'>( {{jobitemselected.ClientName}} >
                {{jobitemselected.location}} > {{jobitemselected.job_title}})</i></h4>

            <button type="button" class="close" data-dismiss="modal">&times;</button>
          </div>

          <div class="modal-body">
            <div class="col-md-12">
              <a href="javascript:" title='call' data-target='#calldiv' data-toggle='modal' ng-if="mp.btn_can_call"
                mat-fab><i class="fa fa-phone"></i></a>



              <a ng-if="mp.candidates_under_job_copyjob" class="btn btn-raised btn-sm" href="javascript:"
                data-toggle="modal" data-target="#addtojob">
                <span class="glyphicon glyphicon-log-in" style="color:#0c0c0c;"></span> Assign Candidate</a>

              <a ng-if="mp.btn_submit_cv_to_panel" class="btn btn-raised btn-sm" href="javascript:"
                (click)="submit_cv_to_panel_status()">
                <span class="glyphicon glyphicon-log-in" style="color:#0c0c0c;"></span> Submit to Panel</a>

              <a href="javascript:" (click)="submitcv()" class="btn btn-raised btn-sm">
                <span class="glyphicon glyphicon-log-in" style="color:#0c0c0c;"></span> Submit Cv</a>
            </div>
            <div>
              <div style="text-align: right;">
                <button type="button" class="btn  btn-raised btnnew btn-sm"
                  (click)="filterdrbytab('My Candidates', 'all')" data-toggle="modal">All
                  <span class="badge ng-binding">{{selectedjoball}}</span>
                </button>
                <button type="button" class="btn  btn-raised btnnew1 btn-sm"
                  (click)="filterdrbytab('My Candidates', 'Under Review')" data-toggle="modal">In Review/Referrals
                  <span class="badge ng-binding">{{selectedjobunderreview}}</span>
                </button>
                <button type="button" class="btn  btn-raised btnnew2 btn-sm"
                  (click)="filterdrbytab('My Candidates', 'In Process')" data-toggle="modal">In process
                  <span class="badge ng-binding">{{selectedjobinprocess}}</span>
                </button>
                <button type="button" class="btn  btn-raised btnnew5 btn-sm"
                  (click)="filterdrbytab('My Candidates', 'isinterview')" data-toggle="modal">Interview
                  <span class="badge ng-binding">{{selectedjobininterview}}</span>
                </button>
                <button type="button" class="btn  btn-raised btnnew3 btn-sm"
                  (click)="filterdrbytab('My Candidates', 'Selected')" data-toggle="modal"> Selected
                  <span class="badge ng-binding">{{selectedjobselectedcandidate}}</span>
                </button>
                <button type="button" class="btn  btn-raised btnnew4 btn-sm"
                  (click)="filterdrbytab('My Candidates', 'Rejected')" data-toggle="modal">Rejected
                  <span class="badge ng-binding">{{selectedjobrejected}}</span>
                </button>
              </div>



              <div class="col-md-12">


                <ag-grid-angular style="width: 100%; height: 500px;" class="ag-theme-material" [rowData]="rowData"
                  [columnDefs]="columnDefs" suppressCsvExport=false [suppressRowClickSelection]="true"
                  [groupSelectsChildren]="true" paginationAutoPageSize='true'
                  (selectionChanged)="onSelectionChanged($event)" [debug]="true" [rowSelection]="rowSelection"
                  [rowGroupPanelShow]="rowGroupPanelShow" [pivotPanelShow]="pivotPanelShow"
                  [enableRangeSelection]="true" [getRowHeight]='getRowHeight' [pagination]="true"
                  (gridReady)="onGridReady($event)" (rowdata)="bindrowdata($event)" (rowClicked)="onRowClicked($event)">
                </ag-grid-angular>
                <div class="clearfix clear"></div>
              </div>
              <div class="clearfix clear"></div>


            </div>
          </div>

        </div>

      </div>
    </div>
    <!-- All End Candidate-->
    <!-- All Candidate -->
    <div class="modal fade" id="internalreference" role="dialog">
      <div class="modal-dialog modal-md">


        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Get Reference</h4>

            <div class="modal-body">

              <div (click)="changechecked(department)" *ngFor="let department of  departments">
                <label>
                  <i ng-show="department.selected" class="fa fa-check-square-o text-green"></i>
                  <i ng-hide="department.selected" class="text-green fa fa-square-o"></i>
                  {{department.department}}</label>
              </div>
              <div class="form-group">
                <label for="prmSubject">Subject:</label>
                <input type="text" [(ngModel)]='prmSubject' class="form-control" id="prmSubject">
              </div>
              <div class="form-group">
                <label for="prmMessagge">Message:</label>
                <textarea [(ngModel)]='prmMessagge' contenteditable class="form-control" id="prmMessagge"></textarea>
              </div>



            </div>
            <input type="button" (click)="getinternalreferrence()" value="submit" class="btn  btn-raised btn-success">
          </div>

        </div>

      </div>
    </div>

    <!-- All End Candidate-->







    <!-- Assign Job -->
    <div id="showcvs" class="modal fade " role="dialog">
      <div class="modal-dialog modal-lg" style="width:100%;">
        <div class="modal-content">
          <div class="modal-header">
            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
            <h4 class="modal-title">CVS</h4>
          </div>
          <div class="modal-body">
            <div class="row">

              <div class="col-md-3 col-md-offset-9">
                <div class="form-group ">
                  <input type="submit" class="form-control btn  btn-raised btn-info " (click)="cvformdatapost()"
                    id="submitcvs" value="Submit Cvs" />
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>



    <div class="modal fade" role="dialog" id="submit_cv_to_panel_status">


      <div class="modal-dialog modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Submit cv to panel</h4>
            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>

          </div>
          <div class="modal-body">
            <div class="row">
              <div class="col-md-12">
                <div class="form-horizontal" role="form">


                  <div class="form-group">
                    <label class="col-md-3 ">Email:</label>
                    <div class="col-md-9">
                      <input type="text" class="form-control e m" n="Email" [(ngModel)]="cv_to_panel.email" />


                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-3 ">Subject:</label>
                    <div class="col-md-9">
                      <input type="text" class="form-control e" n="Subject" [(ngModel)]="cv_to_panel.subject" />


                    </div>
                  </div>
                  <div class="form-group">
                    <label class="col-md-3 ">Comment:</label>
                    <div class="col-md-9">
                      <textarea class="form-control e" n="Comment" [(ngModel)]="cv_to_panel.comment">
                                                  </textarea>


                    </div>
                  </div>
                  <div class="col-md-3">
                    <button type="submit" class="btn  btn-raised btn-block btn-primary validatebutton" validate
                      tar="#submit_cv_to_panel_status" (click)="sendCvToPanel()">send</button>

                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>


    </div>

    <div class="modal" id="addvendor" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h3 class="center">Add Vendor</h3>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>

          </div>
          <div class="modal-body">
            <div class="row">


              <div class="col-md-6"> Name

                <input type="text" [(ngModel)]="vendornew.name" class="form-control e" n="Name" />


              </div>

              <div class="col-md-6">Email

                <input type="text" autocomplete="off" [(ngModel)]="vendornew.email" class="form-control e m"
                  n="Email" />
              </div>




            </div>
            <br>


            <div class="row">


              <div class="col-md-6"> Mobile Number
                <input type="text" [(ngModel)]="vendornew.mobileNo" class="form-control n e" n="Mobile Number" />
              </div>
              <div class="col-md-6">Address
                <input type="text" [(ngModel)]="vendornew.address" class="form-control e" n="Address" />
              </div>




            </div>
            <br>


            <div class="row">
              <div class="form-group col-12">

                <button type="submit" class="btn  btn-raised btn-primary" tar="#addUser"
                  (click)="vendorsave()">Save</button>

              </div>




            </div>
          </div>

        </div>
      </div>

    </div>
    <!-- Assign End Job-->
    <div class="modal bs-example-modal-md" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
      aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">


            <h3   class="center">Send Mail
              <span [ngClass]='allids.length > 10 ? "text-danger" : "text - success"'> (CV Selected :
                {{allids.length}})</span>

            </h3>     <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
          </div>
          <div class="modal-body">
            <div class="form-horizontal" role="form">

              <div class="form-group">

                <div class="col-lg-12">
                  <ng-select ngDefaultControl class="m" [(ngModel)]="sendtracker.trackerno" n="Tracker NO" validate>
                    <ng-option value="{{tracker.id}}" *ngFor="let tracker of trackerlist">{{tracker.tracker_name}}
                    </ng-option>
                  </ng-select>


                </div>
                <div class="col-lg-2"><button ng-show="sendtracker.trackerno" type="button"
                    (click)="sendtrackermsg(true)" class="btn  btn-raised btn-primary btn-sm">Download</button></div>
              </div>
              <div class="form-group">

                <div class="col-lg-12">
                  <input type="email" class="form-control m e" [(ngModel)]="sendtracker.to" n="To" validate
                    id="inputEmail4" placeholder="TO:">
                </div>
              </div>
              <div class="form-group">

                <div class="col-lg-12">
                  <input type="email" class="form-control m e" [(ngModel)]="sendtracker.cc" n="CC" validate
                    id="inputEmail5" placeholder="CC:">
                </div>

              </div>
              <div class="form-group">

                <div class="col-lg-12">
                  <input type="email" class="form-control m e" n="BCC" validate [(ngModel)]="sendtracker.bcc"
                    id="inputEmail5" placeholder="BCC:">
                </div>

              </div>


              <div class="form-group">

                <div class="col-lg-12">
                  <input type="file" class="form-control e">
                  <!--                                <input type="text" class="form-control e" n=""  id="inputEmail5" placeholder="Subject:">-->
                </div>
              </div>

              <div class="form-group">

                <div class="col-lg-12">
                  <input type="text" class="form-control e" n="" [(ngModel)]="sendtracker.subject" id="inputEmail5"
                    placeholder="Subject:">
                </div>
              </div>

              <div class="form-group">
                <div class="col-md-12 col-sm-12 col-xs-12">

                  <textarea class="form-control e" n="message" contenteditable [(ngModel)]="sendtracker.message"
                    placeholder="message" style="min-width: 100%; height: 87px;">
                                          </textarea>
                </div>
              </div>

              <button type="submit" (click)="sendtrackermsg()" class="btn  btn-raised btn-primary btn-md">send</button>
            </div>
          </div>

        </div>
      </div>

    </div>

    <div class="modal bs-example-modal-md" id="downloadtracker" tabindex="-1" role="dialog"
      aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">

            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h3 class="center">Download Tracker
              <span ng-class='countRowsinMyJob > 10 ? "text-danger" : "text - success"'> (CV Selected :
                {{countRowsinMyJob}})</span>
            </h3>
          </div>
          <div class="modal-body">
            <div class="form-horizontal" role="form">

              <div class="form-group">

                <div class="col-lg-10">
                  <select class="form-control m" [(ngModel)]="trackerno" n="Tracker NO" validate>
                    <option value="{{tracker.id}}" *ngFor="let tracker of trackerlist">{{tracker.tracker_name}}
                    </option>
                  </select>


                </div>

              </div>
              <button type="button" (click)="downloadtracker()" class="btn  btn-raised btn-primary btn-md">Download <i
                  class="fa fa-download"></i></button>

            </div>
          </div>

        </div>
      </div>

    </div>


    <div class="modal fade" role="dialog" id="trackerDetailExtra">


      <div class="modal-dialog">
        <div class="modal-content">
          <div class="modal-header">
            <button aria-hidden="true" data-dismiss="modal" class="close" type="button">×</button>
            <h4 class="modal-title text-danger">Tracker Data</h4>
          </div>


          <div class="modal-body">
            <div class="col-md-12" style="padding-top: 10px;">

              <div class="form-group">
                <label>Resume Source:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.resume_source" class="form-control">
              </div>
              <div class="form-group">
                <label>Resume Source Name:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.resume_source_name" class="form-control">
              </div>
              <div class="form-group">
                <label>Panel Shared Date(first):</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.panel_shared_date_first" class="form-control">
              </div>
              <div class="form-group">
                <label>Joining Date:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.joining_date" class="form-control">
              </div>
              <div class="form-group">
                <label>Offered Release Date:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.offered_release_date" class="form-control">
              </div>
              <div class="form-group">
                <label>Offered Fixed:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.offered_fixed" class="form-control">
              </div>
              <div class="form-group">
                <label>Offered Retiral:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.offered_retiral" class="form-control">
              </div>
              <div class="form-group">
                <label>Variable/Hotskills incentive:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.variable_hotskills_incentive" class="form-control">
              </div>
              <div class="form-group">
                <label>Actual Date of Joining:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.actual_date_of_joining" class="form-control">
              </div>
              <div class="form-group">
                <label>Recruitment Expense Po Type:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.recruitment_expense_po_type" class="form-control">
              </div>
              <div class="form-group">
                <label>Amount:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.amount" class="form-control">
              </div>
              <div class="form-group">
                <label>Relocation Expense:</label>
                <input type="text" [(ngModel)]="trackerdatamyjob.relocation_expense" class="form-control">
              </div>

              <div class="form-group">
                <input type="submit" value="Save" (click)="setatjidentitysave(trackerdatamyjob)" />
              </div>

            </div>


            <div class="clearfix"></div>

          </div>
        </div>
      </div>
      <!--End  Start Submit CV-->
    </div>
    <pagination-controls     directionLinks="true"
    autoHide="true"
    responsive="true"
    previousLabel="Previous"
    nextLabel="Next"
    screenReaderPaginationLabel="Pagination"
    screenReaderPageLabel="page"
    screenReaderCurrentLabel="You're on page" class="pull-right my-pagination" (pageChange)="p = $event"></pagination-controls>
  </div>

</div>

<app-call [allids]='allids'></app-call>
<app-add-to-job [allids]='allids'></app-add-to-job>
<app-add-note [set_candidate_id]='candidate_id'></app-add-note>
<app-add-candidate></app-add-candidate>
<app-update-status [allstatusload]='allstatusload' [set_status_row]='status_row'></app-update-status>
<app-activity [activities]="activities"></app-activity>
<app-update-candidate [current_data]='currentData'></app-update-candidate>

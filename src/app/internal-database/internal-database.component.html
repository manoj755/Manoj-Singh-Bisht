<div class="main-content">
  <div class="container-fluid">
    <div class="row">
      <div class="col-12">
        <!-- Small boxes (Stat box) -->


        <div class="row">

<app-call></app-call>
          <div class="col-md-3 " ng-show="mp.btn_take_internal_refeference">
            <button type="button" class="btn btn-block  btn-primary btn-md" data-toggle="modal" data-target="#getreferencemodal"
              title="Get referrence from selected candidates or send mail ">Get Reference/Send Mail</button>
            <app-pv-get-reference></app-pv-get-reference>

          </div>
          <div class="col-md-3" ng-show="mp.add_to_job_store">

            <button type="button" class="btn btn-block  btn-info btn-md" data-toggle="modal"
              data-target="#addtojob">Add to Job</button>

            <app-add-to-job></app-add-to-job>

          </div>
          <div class=" col-md-3 validate">
              <a class="btn btn-default btn-block" href="" data-toggle="modal" help='Add Candidate' data-target="#addcandidate"
                ng-if="mp.candidate_detail_store">
                Add Candidate
              </a>
              <div id="addcandidate" class="modal fade " role="dialog">
                <div class="modal-dialog modal-lg">

                  <!-- Modal content-->
                  <div class="modal-content">
                    <div class="modal-header">

                      <h4 class="modal-title">Add Candidate</h4> <button type="button" class="close"
                        data-dismiss="modal">&times;</button>
                    </div>
                    <div class="modal-body">

                      <div class="col-md-12 ">
                        <div class="form-horizontal" role="form">
                          <div class="form-group">
                            <label for="name" class="control-label col-sm-4">Full Name</label>
                            <div class="col-sm-6">
                              <input type="text" [(ngModel)]="store.candidateName" class="form-control e" validate
                                id="name" placeholder="Enter name">
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="address" class="control-label col-sm-4">Gender</label>
                            <div class="col-sm-7">
                              <div>
                                <select [(ngModel)]="store.gender" class="form-control">
                                  <option *ngFor="let  xof genders" value="{{x.id}}">
                                    {{x.gender_name}}
                                  </option>
                                </select>
                              </div>
                            </div>
                          </div>

                          <div class="form-group">
                            <label for="mobileNo" class="control-label col-sm-4">Mobile Number</label>
                            <div class="col-sm-7">
                              <input type="text" class="form-control e no" validate n="Mobile"
                                [(ngModel)]="store.mobileNo" id="mobileNo" placeholder="Mobile Number">
                            </div>
                          </div>

                          <div class="form-group">
                            <label for="email" class="control-label col-sm-4">Email</label>
                            <div class="col-sm-7">
                              <input type="text" class="form-control e m" validate n="Email" [(ngModel)]="store.email"
                                id="email" placeholder="Email">
                            </div>
                          </div>
                          <!--                                            <div class="form-group">
                                                                                      <label for="panNo" class="control-label col-sm-4">Pan No</label>
                                                                                      <div class="col-sm-7">
                                                                                          <input type="text" class="form-control e" n="Pan Number"  [(ngModel)]="store.panNo" id="panNo" placeholder="Pan No">
                                                                                      </div>
                                                                                  </div>
                                                                                  <div class="form-group">
                                                                                      <label for="industryType" class="control-label col-sm-4">Industry Type</label>
                                                                                      <div class="col-sm-7">
                                                                                          <input type="text" class="form-control e" n="Industry" [(ngModel)]="store.industryType" id="industryType" placeholder="Industry Type">
                                                                                      </div>
                                                                                  </div>

                                                                                  <div class="form-group">
                                                                                      <label for="functionalArea" class="control-label col-sm-4">Functional Area</label>
                                                                                      <div class="col-sm-7">
                                                                                          <input type="text" class="form-control e" n="Functional Area" [(ngModel)]="store.functionalArea" id="functionalArea" placeholder="functionalArea">
                                                                                      </div>
                                                                                  </div>
                                                                                  <div class="form-group">
                                                                                      <label for="functionalArea" class="control-label col-sm-4">D.O.B</label>
                                                                                      <div class="col-sm-7">
                                                                                          <input type="date" [(ngModel)]="store.dob" name="contactDurationStart" md-placeholder="Date of Birth" class="form-control" />
                                                                                      </div>
                                                                                  </div>


                                                                                  <div class="form-group">
                                                                                      <label for="Key Skills" class="control-label col-sm-4">Key Skills</label>
                                                                                      <div class="col-sm-7">
                                                                                          <input type="text" class="form-control vn" n="Key Skills" [(ngModel)]="store.keySkills" id="Salary" placeholder="Key Skills">
                                                                                      </div>
                                                                                  </div>

                                                                                  <div class="form-group">
                                                                                      <label for="function" class="control-label col-sm-4">Function</label>
                                                                                      <div class="col-sm-7">
                                                                                          <input type="text" class="form-control e" n="Function"  id="Function" placeholder="function">
                                                                                      </div>
                                                                                  </div>-->
                          <div class="form-group" ng-hide="true">
                            <label for="source" class="control-label col-sm-4">Source</label>
                            <div class="col-sm-7">
                              <input type="text" class="form-control " [(ngModel)]="store.source" value="0" id="source"
                                placeholder="Source">
                            </div>
                          </div>
                          <div class="form-group">
                            <label for="resume" class="control-label col-sm-4">Resume</label>
                            <div class="col-sm-7">

                            </div>
                          </div>

                          <div class="form-group">

                            <div class="col-md-4 col-md-offset-4">
                              <button class="btn btn-success btn-md btn-block validate" tar="#addCandidate"
                                ng-click="candidatesave()">Save</button>
                            </div>
                          </div>

                        </div>
                      </div>
                    </div>
                    <div class="modal-footer">
                      <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                    </div>
                  </div>

                </div>
              </div>
            </div>
            <div class='col-md-3'>
                <a  mat-fab href="javascript:" help='call' data-target='#calldiv'
                  data-toggle='modal' ng-if="mp.btn_can_call">
                  <i class="fa fa-phone fa-2x"></i>

                </a>
              </div>
        </div>

        <div id="calldiv" class="modal " role="dialog">
          <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
              <div class="modal-header">

                <h4 class="modal-title">Call</h4> <button type="button" class="close"
                  data-dismiss="modal">&times;</button>
              </div>
              <div class="modal-body">
                <div class="row">
                  <div class="col-md-12">
                    <div class="form-horizontal">
                      <div class="form-group">
                        <label for="Client" class="control-label col-xs-2">{{clientsdepartment}}:</label>
                        <div class="col-xs-8">
                          <select class="form-control e" n="Client" ng-change="getcandidatebyclient(true)"
                            [(ngModel)]="copycandidate.client_detail_id" name="client_detail_id" required>
                            <option value="{{x.id}}" *ngFor="let  xof clients">{{x.billingName}}</option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="Jobs" class="control-label col-xs-2">Jobs:</label>
                        <div class="col-xs-8">
                          <select class="form-control e" n="Jobs" [(ngModel)]="copycandidate.job_id">
                            <option value="{{job.id}}" *ngFor="let  jobof jobslistbyclients">
                              {{job.job_title}} ({{job.id}})
                            </option>
                          </select>
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="Jobs" class="control-label col-xs-2">Owner</label>
                        <div class="col-xs-8">
                          <select class="form-control e" n="Owner" [(ngModel)]="copycandidate.manager">
                            <option value="{{profile.id}}">Self</option>
                            <option value="{{x.id}}" *ngFor="let  xof managers">
                              {{x.name}}
                            </option>
                          </select>
                        </div>
                      </div>

                      <div class="form-group">
                        <div class="col-md-4 col-md-offset-4">
                          <button type="submit" class="btn btn-primary btn-block" tar="#addjob"
                            ng-click="sendcalltocandidates()">Placeof Queue</button>
                        </div>
                      </div>
                    </div>
                  </div>

                </div>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
              </div>
            </div>

          </div>
        </div>
        <hr class="hrstye">

        <div class="row">
          <div class="col-2">

            <mat-form-field>
              <mat-select placeholder="Page Size" [(ngModel)]="pageSize" (selectionChange)="loadInternalData()">
                <mat-option *ngFor="let pagesize of pageSizes" [value]="pagesize">
                  {{pagesize}}
                </mat-option>
              </mat-select>
            </mat-form-field>

          </div>
          <div class="col-2">
            <mat-form-field>
              <mat-select placeholder="Page No" [(ngModel)]="page" (selectionChange)="loadInternalData(true)">
                <mat-option *ngFor="let item of totalpage" [value]='item'>{{item}} </mat-option>
              </mat-select>
            </mat-form-field>

          </div>
          <div class="col-8">
            <mat-form-field class="example-full-width">
              <input matInput placeholder="Search" type="text" [(ngModel)]="searchText"
                (change)="loadInternalData()" />
            </mat-form-field>
          </div>

        </div>


        <ag-grid-angular style="height: 500px;" class="ag-theme-material" [rowData]="rowData" [columnDefs]="columnDefs"
          suppressCsvExport=false [autoGroupColumnDef]="autoGroupColumnDef" [suppressRowClickSelection]="true"
          [groupSelectsChildren]="true" (selectionChanged)="onSelectionChanged($event)" [debug]="true"
          [rowSelection]="rowSelection" [rowGroupPanelShow]="rowGroupPanelShow" [pivotPanelShow]="pivotPanelShow"
          [enableRangeSelection]="true" (gridReady)="onGridReady($event)">
        </ag-grid-angular>
      </div>
    </div>
  </div>
</div>

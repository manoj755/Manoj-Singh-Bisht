<div class="main-content">
  <div class="container-fluid" style="width:100%;">


    <div class="row">

      <app-call [allids]='allids'></app-call>
      <app-add-to-job [allids]='allids'></app-add-to-job>
      <app-pv-get-reference [allids]='allids'></app-pv-get-reference>

      <div class="col-md-6 ">

        <div>
          <!--<a class="quick-btn "  href="" data-toggle="modal" help='Add Candidate' data-target="#addcandidate" ng-if="mp.candidate_detail_store">-->
          <!--<div class="col-xs-8">-->
          <div class="row">

            <app-add-candidate></app-add-candidate>
            <div class="col-md-3">
              <a mat-mini-fab class="icousers" href="" data-toggle="modal" help='Add Candidate'
                data-target="#addcandidate" ng-if="mp.candidate_detail_store"><i class="fa fa-users"></i></a>

            </div>
            <div class="col-md-3">
              <a mat-mini-fab href="javascript:" help='Add to Job' data-target='#addtojob' data-toggle='modal'
                *ngIf="db.mp.add_to_job_store" (click)="loadalert();" class="icouser"><i class="fa fa-user-plus"></i></a></div>
            <div class="col-md-3" *ngIf="db.mp.btn_take_internal_refeference"><a mat-mini-fab href=""
                help='Get Reference' data-toggle="modal" data-target="#getreferencemodal" class="icohandshake"><i
                  class="fa fa-handshake-o"></i></a></div>
            <div class="col-md-3"><a mat-mini-fab href="javascript:" help='call' data-target='#calldiv'
                data-toggle='modal' *ngIf="db.mp.btn_can_call" class="icocall"><i class="fa fa-phone"></i></a></div>
          </div>






        </div>
      </div>

      <!-- <div class="col-md-6">

        <button (click)="exportdat()" class="btn btn-default btn-raised">Export</button>

      </div>-->



      <div class="form-group col-md-6">
        <div class="row">
          <label class="col-md-3">Recruiter</label>
          <div class="col-md-9">
            <ng-select (change)="LoadHistory()" n="Owner" [(ngModel)]="recruiter">
              <ng-option value="{{db.profile.id}}">Self</ng-option>
              <ng-option value="{{x.id}}" *ngFor="let x of managers">
                {{x.name}}
              </ng-option>
            </ng-select>
          </div>
        </div>
      </div>



      <div class="col-12">

        <div class="row">
          <div class="col-2">
                <button (click)="exportdat()" class="btn btn-raised btn-danger">Export</button>
                </div>
                <div class="col-10">
                <input type="text" class="form-control"(keyup)="filterhistory()" [(ngModel)]="searchcandidatetext"  placeholder="Search..." id = "history">
              </div>
            </div>

      <ag-grid-angular style=" height: 500px;" (rowClicked)="onRowClicked($event)"
      rowSelection='multiple'rowMultiSelectWithClick='true'
      rowDeselection='true'
        class="ag-theme-material" [rowData]="rowData" [columnDefs]="columnDefs" suppressCsvExport=false
        [suppressRowClickSelection]="true" [groupSelectsChildren]="true" paginationAutoPageSize='true'
        (selectionChanged)="onSelectionChanged($event)" [debug]="true" [enableRangeSelection]="true" [pagination]="true"
        (gridReady)="onGridReady($event)">
      </ag-grid-angular></div>

    </div>
  </div>
  <div id="notesdetail1" class="modal fade" style="z-index:2000" role="dialog">
    <div class="modal-dialog modal-sm">

  <div class="modal-content">

    <div class="modal-body">
      <div class='col-md-12'>
          <div class='row'>
              <div class='col-md-12'>
                <!-- <div class="form-group ">
                  <label for="contactibility">Contactibility</label>
                  <select   [(ngModel)]="CandidateNote">
                      <option>No Response</option>
                      <option>Wrong Number</option>
                      <option>Call Back</option>

                    </select>

                </div> -->
                <mat-form-field>
                  <mat-label>Contactibility</mat-label>
                  <mat-select [(ngModel)]="contactibility" name="Contactibility">
                    <mat-option value='No Response'>No Response</mat-option>
                    <mat-option value='Wrong Number' >Wrong Number</mat-option>
                    <mat-option value='Call Back' >Call Back</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>

                  <!-- <div class='col-md-6'>
                    <div class="form-group ">
                      <label for="notes">Not Scheduled

                        </label>
                        <ng-select class="e"  n="Job Type" [(ngModel)]='CandidateNote.jobtype1'>
                            <ng-option>Poor communication</ng-option>

                            <ng-option>Looking for Core Profile</ng-option>
                            <ng-option>Not OK with Shift Timings</ng-option>
                            <ng-option>Not willing to work with BPO/ KPO </ng-option>
                            <ng-option>Over Age</ng-option>
                            <ng-option>Non Hiring Zone/ Location Issue</ng-option>
                            <ng-option>Hiring Salary Expectation</ng-option>
                              <ng-option>Higher Notice Period</ng-option>
                                <ng-option>Not Looking for change</ng-option>
                                  <ng-option>others</ng-option>
                          </ng-select>

                    </div>
                  </div> -->

            </div>
        <!-- <h2>Add Candidate
          Note</h2> -->
        <!-- <div class='row'>
          <div class='col-md-12'>
            <div class="form-group ">
              <label for="notes">Notes</label>
              <textarea class="form-control e" required="" maxlength='255' [(ngModel)]="CandidateNote.notes"
                id="notes" placeholder="Notes"></textarea>

            </div>
          </div>
        </div> -->
        <div class="form-group">
          <div class=" col-md-10" style="margin-left:20%">
            <button type="submit" class="btn  btn-raised btn-primary" ng-hide="isEditCandidateNote"
              (click)="CandidateNotesave();">Save</button>

          </div>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
  </div>
  </div>

  <div id="notesdetail2" class="modal fade" style="z-index:2000" role="dialog">
    <div class="modal-dialog modal-sm">

  <div class="modal-content">

    <div class="modal-body">
      <div class='col-md-12'>
          <div class='row'>
              <!-- <div class='col-md-8'>
                <div class="form-group ">
                  <label for="contactibility">Contactibility</label>
                  <ng-select class="e" n="contactibility" [(ngModel)]="CandidateNote.contactibility">
                      <ng-option>No Response</ng-option>
                      <ng-option>Wrong Number</ng-option>
                      <ng-option>Call Back</ng-option>

                    </ng-select>

                </div>
              </div> -->

                  <div class='col-md-12'>

                    <mat-form-field>
                      <mat-label>Not Scheduled</mat-label>
                      <mat-select [(ngModel)]="not_scheduled" name="Not Scheduled">
                        <mat-option value='Poor communication'>Poor communication</mat-option>
                        <mat-option value='Looking for Core Profile' >Looking for Core Profile</mat-option>
                        <mat-option value='Not willing to work with BPO/ KPO' >Not willing to work with BPO/ KPO</mat-option>
                        <mat-option value='Over Age'>Over Age</mat-option>
                        <mat-option value='Non Hiring Zone/ Location Issue' >Non Hiring Zone/ Location Issue</mat-option>
                         <mat-option value='Hiring Salary Expectation' >Hiring Salary Expectation</mat-option>
                        <mat-option value='Higher Notice Period' >Higher Notice Period</mat-option>
                        <mat-option value='Not Looking for change'>Not Looking for change</mat-option>
                        <mat-option value='others' >others</mat-option>

                      </mat-select>
                    </mat-form-field>
                  </div>

            </div>
        <!-- <h2>Add Candidate
          Note</h2> -->
        <!-- <div class='row'>
          <div class='col-md-12'>
            <div class="form-group ">
              <label for="notes">Notes</label>
              <textarea class="form-control e" required="" maxlength='255' [(ngModel)]="CandidateNote.notes"
                id="notes" placeholder="Notes"></textarea>

            </div>
          </div>
        </div> -->
        <div class="form-group">
          <div class=" col-md-10" style="margin-left:20%">
            <button type="submit" class="btn  btn-raised btn-primary" ng-hide="isEditCandidateNote"
              (click)="CandidateHistoryStatus();">Save</button>

          </div>
        </div>
      </div>
      <div class="clearfix"></div>
    </div>

  </div>
  </div>
  </div>

  <app-update-candidate [current_data]='currentData'></app-update-candidate>
  <!-- <app-add-note [set_candidate_id]='candidate_id'></app-add-note> -->
